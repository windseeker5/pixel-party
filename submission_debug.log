
=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Kenny'
PASS: Guest name validation
PASS: File exists - IMG_1537.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'selected_song']
Files keys: []
guest_name: 'Test User'
PASS: Guest name validation
FAIL: File validation - file=None, filename=None

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'selected_song']
Files keys: []
guest_name: 'Test User'
PASS: Guest name validation
FAIL: File validation - file=None, filename=None

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'selected_song']
Files keys: []
guest_name: 'Test User'
PASS: Guest name validation
FAIL: File validation - file=None, filename=None

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'selected_song']
Files keys: []
guest_name: 'Test User'
PASS: Guest name validation
FAIL: File validation - file=None, filename=None

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Test User'
PASS: Guest name validation
PASS: File exists - test_image.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Test Music Copy'
PASS: Guest name validation
PASS: File exists - test_music_copy.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'YouTube Test User'
PASS: Guest name validation
PASS: File exists - test_youtube_download.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'YouTube Download Test'
PASS: Guest name validation
PASS: File exists - test_youtube_final.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'YouTube Test User'
PASS: Guest name validation
PASS: File exists - test_youtube_download.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Test User'
PASS: Guest name validation
PASS: File exists - test_image.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Test User Final'
PASS: Guest name validation
PASS: File exists - test_image.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Test User'
PASS: Guest name validation
PASS: File exists - test_image.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - IMG_1288.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - IMG_1288.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - 1000001610.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - IMG_1288.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - IMG_1288.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - IMG_1288.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - 1000000597.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - 1000001610.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Nsks'
PASS: Guest name validation
PASS: File exists - 1000002601.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'dsqedw'
PASS: Guest name validation
PASS: File exists - IMG_1288.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - IMG_1288.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - 1000001534.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Elizabeth'
PASS: Guest name validation
PASS: File exists - 2014-08-12 14.09.36.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Claude'
PASS: Guest name validation
PASS: File exists - test_birthday_photo.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - 1000002324.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Test User'
PASS: Guest name validation
PASS: File exists - test_birthday_photo.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'sss'
PASS: Guest name validation
PASS: File exists - Image_fx(33).jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - IMG_1288.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - pexels-pixabay-390051.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie-France'
PASS: Guest name validation
PASS: File exists - pexels-sebastian-ervi-866902-1763075.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - test_photo.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - PXL_20250917_212628867.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - kd-mask2.png
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - PXL_20250917_212628867.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - pexels-sebastian-189349.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - PXL_20250917_212628867.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie-France'
PASS: Guest name validation
PASS: File exists - pexels-sebastian-189349.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Philippe'
PASS: Guest name validation
PASS: File exists - pexels-sebastian-ervi-866902-1763075.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Jerome'
PASS: Guest name validation
PASS: File exists - pexels-sebastian-189349.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Eddy Vedder'
PASS: Guest name validation
PASS: File exists - pexels-sebastian-ervi-866902-1763075.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie-Blow Girl'
PASS: Guest name validation
PASS: File exists - pexels-fr3nks-352093.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Carl B'
PASS: Guest name validation
PASS: File exists - pexels-apg-graphics-709181-1604746.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Bod Dylan'
PASS: Guest name validation
PASS: File exists - pexels-apg-graphics-709181-1604746.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Sydney Crosby'
PASS: Guest name validation
PASS: File exists - pexels-tony-schnagl-6468938.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - pexels-apg-graphics-709181-1604746.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie-France'
PASS: Guest name validation
PASS: File exists - pexels-sebastian-ervi-866902-1763075.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Phil'
PASS: Guest name validation
PASS: File exists - pexels-sebastian-189349.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - 1000000947.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marc-Andre'
PASS: Guest name validation
PASS: File exists - IMG_2529.jpeg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Johnny boy'
PASS: Guest name validation
PASS: File exists - IMG_2531.jpeg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie-France'
PASS: Guest name validation
PASS: File exists - 707788d8fb7837e68836deab0963b026.jpeg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Kitesurfers'
PASS: Guest name validation
PASS: File exists - IMG_2252.jpeg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Gang des Iles'
PASS: Guest name validation
PASS: File exists - IMG_0349.jpeg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - P1014336.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - P1014336.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken ðŸ˜ˆ'
PASS: Guest name validation
PASS: File exists - P1014345.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Messenger group - 50 ANS Ã€ MA VALOUS'
PASS: Guest name validation
PASS: File exists - 552568734_23946172705056780_8240108965338850369_n.mp4
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - 1000003031.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Phil'
PASS: Guest name validation
PASS: File exists - 1000003054.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - PXL_20250920_014050658.NIGHT.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - PXL_20250921_013739864.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Les kiteserfers'
PASS: Guest name validation
PASS: File exists - P1014345.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Kitesurfers'
PASS: Guest name validation
PASS: File exists - P1014345.JPG
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - PXL_20250920_014050658.NIGHT.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - PXL_20250921_013739864.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Marie'
PASS: Guest name validation
PASS: File exists - PXL_20250920_014050658.NIGHT.jpg
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'wsssw'
PASS: Guest name validation
PASS: File exists - 552568734_23946172705056780_8240108965338850369_n.mp4
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'qwsswq'
PASS: Guest name validation
PASS: File exists - 550776854_24796851993272051_1928165336822853573_n.mp4
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'wdss'
PASS: Guest name validation
PASS: File exists - 550079870_24288142117535381_207967598490872311_n.mp4
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: ['photo']
guest_name: 'Ken'
PASS: Guest name validation
PASS: File exists - kenBO2024.png
PASS: File type allowed

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation
EDIT MODE: Getting guest for edit_id=1
EDIT MODE: Guest found/created: Marie-France (ID: 1)
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation
EDIT MODE: Getting guest for edit_id=1
EDIT MODE: Guest found/created: Marie-France (ID: 1)
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation
EDIT MODE: Getting guest for edit_id=1
EDIT MODE: Guest found/created: Marie-France (ID: 1)
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation
EDIT MODE: Getting guest for edit_id=1
EDIT MODE: Guest found/created: Marie-France (ID: 1)
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation
EDIT MODE: Getting guest for edit_id=1
EDIT MODE: Guest found/created: Marie-France (ID: 1)
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation
EDIT MODE: Getting guest for edit_id=1
EDIT MODE: Guest found/created: Marie-France (ID: 1)
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'selected_song']
Files keys: []
guest_name: 'Test User'
PASS: Guest name validation
EDIT MODE: Getting guest for edit_id=1
EDIT MODE: Guest found/created: Marie-France (ID: 1)
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'selected_song']
Files keys: []
guest_name: 'Test User'
PASS: Guest name validation
EDIT MODE: Getting guest for edit_id=1
EDIT MODE: Guest found/created: Marie-France (ID: 1)
EDIT MODE: No new file uploaded, keeping existing
MUSIC: Starting music handling, selected_song='{"title":"Les Ã©toiles filantes","artist":"LES COWBOYS FRINGANTS","source":"youtube"}'
MUSIC: Has selected song, parsing JSON
MUSIC: JSON parsed successfully: {'title': 'Les Ã©toiles filantes', 'artist': 'LES COWBOYS FRINGANTS', 'source': 'youtube'}
MUSIC: Checking source type: youtube
MUSIC: Processing YouTube source
MUSIC: YouTube data - URL: False, Title: 'Les Ã©toiles filantes', Artist: 'LES COWBOYS FRINGANTS'
MUSIC: Creating music request if valid data, title='Les Ã©toiles filantes'
MUSIC: Valid title found, creating music request
MUSIC: Status set to 'pending'
MUSIC: Creating MusicQueue object with guest_id=1
MUSIC: MusicQueue object created, adding to session
MUSIC: Added to session, flushing to get ID
MUSIC: Flush complete, music_request.id=7
POST MUSIC: Updating guest submission count, is_edit_mode=True
POST MUSIC: About to commit database changes
POST MUSIC: Database commit successful
DEBUG: Starting submit_memory, edit_id=1, is_edit_mode=True
DEBUG: About to query photo with edit_id=1
DEBUG: Photo found: 1

=== SUBMISSION ATTEMPT ===
Form keys: ['edit_id', 'guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Marie-France'
PASS: Guest name validation
EDIT MODE: Getting guest for edit_id=1
EDIT MODE: Guest found/created: Marie-France (ID: 1)
EDIT MODE: No new file uploaded, keeping existing
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Test User'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Final Test User'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Working Test User'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Debug Test'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: About to commit to database
Photo ID: None
Guest name: Debug Test
Wish: Debug wish to find the error
Filename: None
File type: wish
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Error Finder'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: About to commit to database
Photo ID: None
Guest name: Error Finder
Wish: Finding the exact commit error
Filename: None
File type: wish
ERROR: Database commit failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos (guest_id, guest_name, filename, original_filename, wish_message, uploaded_at, displayed_at, display_duration, file_size, file_type, duration, thumbnail) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (21, 'Error Finder', None, None, 'Finding the exact commit error', '2025-09-27 14:17:32.247555', None, 10, 0, 'wish', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Final Fix Test'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: About to commit to database
Photo ID: None
Guest name: Final Fix Test
Wish: This should work now since manual inserts work!
Filename: None
File type: wish
ERROR: Database commit failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos (guest_id, guest_name, filename, original_filename, wish_message, uploaded_at, displayed_at, display_duration, file_size, file_type, duration, thumbnail) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (22, 'Final Fix Test', None, None, 'This should work now since manual inserts work!', '2025-09-27 14:18:51.090583', None, 10, 0, 'wish', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Workaround Test'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: About to commit to database
Photo ID: None
Guest name: Workaround Test
Wish: Testing the raw SQL workaround for wish-only submission
Filename: None
File type: wish
ERROR: Database commit failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos (guest_id, guest_name, filename, original_filename, wish_message, uploaded_at, displayed_at, display_duration, file_size, file_type, duration, thumbnail) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (23, 'Workaround Test', None, None, 'Testing the raw SQL workaround for wish-only submission', '2025-09-27 14:19:45.165243', None, 10, 0, 'wish', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
WORKAROUND: Trying raw SQL insert...
ERROR: Raw SQL also failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos
                    (guest_id, guest_name, filename, original_filename, wish_message,
                     uploaded_at, display_duration, file_size, file_type)
                    VALUES (?, ?, ?, ?, ?,
                            ?, ?, ?, ?)]
[parameters: (23, 'Workaround Test', None, None, 'Testing the raw SQL workaround for wish-only submission', datetime.datetime(2025, 9, 27, 14, 19, 45, 166888), 10, 0, 'wish')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Fresh Database Test'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: About to commit to database
Photo ID: None
Guest name: Fresh Database Test
Wish: Testing with fresh database - wish only!
Filename: None
File type: wish
ERROR: Database commit failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos (guest_id, guest_name, filename, original_filename, wish_message, uploaded_at, displayed_at, display_duration, file_size, file_type, duration, thumbnail) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (24, 'Fresh Database Test', None, None, 'Testing with fresh database - wish only!', '2025-09-27 14:22:01.904696', None, 10, 0, 'wish', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
WORKAROUND: Trying raw SQL insert...
ERROR: Raw SQL also failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos
                    (guest_id, guest_name, filename, original_filename, wish_message,
                     uploaded_at, display_duration, file_size, file_type)
                    VALUES (?, ?, ?, ?, ?,
                            ?, ?, ?, ?)]
[parameters: (24, 'Fresh Database Test', None, None, 'Testing with fresh database - wish only!', datetime.datetime(2025, 9, 27, 14, 22, 1, 905764), 10, 0, 'wish')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Test User'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: About to commit to database
Photo ID: None
Guest name: Test User
Wish: Testing validation without photo
Filename: None
File type: wish
ERROR: Database commit failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos (guest_id, guest_name, filename, original_filename, wish_message, uploaded_at, displayed_at, display_duration, file_size, file_type, duration, thumbnail) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (17, 'Test User', None, None, 'Testing validation without photo', '2025-09-27 14:24:56.420919', None, 10, 0, 'wish', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
WORKAROUND: Trying raw SQL insert...
ERROR: Raw SQL also failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos
                    (guest_id, guest_name, filename, original_filename, wish_message,
                     uploaded_at, display_duration, file_size, file_type)
                    VALUES (?, ?, ?, ?, ?,
                            ?, ?, ?, ?)]
[parameters: (17, 'Test User', None, None, 'Testing validation without photo', datetime.datetime(2025, 9, 27, 14, 24, 56, 423337), 10, 0, 'wish')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Final Test'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: About to commit to database
Photo ID: None
Guest name: Final Test
Wish: Testing that photo upload works after validation
Filename: None
File type: wish
ERROR: Database commit failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos (guest_id, guest_name, filename, original_filename, wish_message, uploaded_at, displayed_at, display_duration, file_size, file_type, duration, thumbnail) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (25, 'Final Test', None, None, 'Testing that photo upload works after validation', '2025-09-27 14:31:15.980157', None, 10, 0, 'wish', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
WORKAROUND: Trying raw SQL insert...
ERROR: Raw SQL also failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos
                    (guest_id, guest_name, filename, original_filename, wish_message,
                     uploaded_at, display_duration, file_size, file_type)
                    VALUES (?, ?, ?, ?, ?,
                            ?, ?, ?, ?)]
[parameters: (25, 'Final Test', None, None, 'Testing that photo upload works after validation', datetime.datetime(2025, 9, 27, 14, 31, 15, 981110), 10, 0, 'wish')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
DEBUG: Starting submit_memory, edit_id=None, is_edit_mode=False

=== SUBMISSION ATTEMPT ===
Form keys: ['guest_name', 'wish_message', 'query', 'selected_song']
Files keys: []
guest_name: 'Working Validation Test'
PASS: Guest name validation
INFO: No file uploaded - proceeding with wish-only submission
EDIT MODE: No new file uploaded, keeping existing
DEBUG: About to commit to database
Photo ID: None
Guest name: Working Validation Test
Wish: This should show validation and still allow photo clicks
Filename: None
File type: wish
ERROR: Database commit failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos (guest_id, guest_name, filename, original_filename, wish_message, uploaded_at, displayed_at, display_duration, file_size, file_type, duration, thumbnail) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: (26, 'Working Validation Test', None, None, 'This should show validation and still allow photo clicks', '2025-09-27 14:32:15.646374', None, 10, 0, 'wish', None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
WORKAROUND: Trying raw SQL insert...
ERROR: Raw SQL also failed: (sqlite3.IntegrityError) NOT NULL constraint failed: photos.filename
[SQL: INSERT INTO photos
                    (guest_id, guest_name, filename, original_filename, wish_message,
                     uploaded_at, display_duration, file_size, file_type)
                    VALUES (?, ?, ?, ?, ?,
                            ?, ?, ?, ?)]
[parameters: (26, 'Working Validation Test', None, None, 'This should show validation and still allow photo clicks', datetime.datetime(2025, 9, 27, 14, 32, 15, 647718), 10, 0, 'wish')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
