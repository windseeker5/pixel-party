<!-- Welcome Screen Component with QR Code -->
<div class="hero h-full animated-gradient rounded-xl shadow-2xl">
    <div class="hero-content text-center">
        <div class="max-w-md">
            <h1 class="text-5xl font-bold text-white mb-3 drop-shadow-lg animate-pulse whitespace-nowrap">
                Welcome to Val√©rie's
            </h1>
            <h2 class="text-4xl font-bold text-yellow-300 mb-6 drop-shadow-lg">
                50th Birthday Party!
            </h2>
            <p class="text-xl text-white mb-8 drop-shadow">
                Share your photos, wishes, and music
            </p>

            <!-- QR Code Card -->
            <div class="card bg-white/95 backdrop-blur p-6 shadow-2xl">
                <h3 class="text-lg font-bold text-gray-800 mb-3">Join the Celebration!</h3>
                <div id="qr-code-welcome" class="mx-auto mb-3"></div>
                <p class="text-gray-700 font-semibold text-sm">Scan with your phone camera</p>
                <p class="text-xs text-gray-500 mt-1" id="mobile-url-welcome"></p>
            </div>
        </div>
    </div>
</div>

<style>
/* Animated background for welcome screen */
@keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.animated-gradient {
    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
}
</style>

<script>
// Generate QR code for this welcome screen instance
function generateWelcomeQR() {
    fetch('/api/network_info')
        .then(response => response.json())
        .then(data => {
            const qr = qrcode(4, 'L');
            const url = data.mobile_url;
            qr.addData(url);
            qr.make();

            // Generate QR code for welcome screen
            const qrElement = document.getElementById('qr-code-welcome');
            if (qrElement) {
                qrElement.innerHTML = qr.createImgTag(6);
            }

            // Display URL
            const urlElement = document.getElementById('mobile-url-welcome');
            if (urlElement) {
                urlElement.textContent = url;
            }
        })
        .catch(error => {
            console.error('Error fetching network info:', error);
        });
}

// Generate QR code when this component loads
if (typeof qrcode !== 'undefined') {
    generateWelcomeQR();
} else {
    // Wait for QR code library to load
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(generateWelcomeQR, 100);
    });
}
</script>