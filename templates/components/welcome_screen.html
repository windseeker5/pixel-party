<!-- Welcome Screen Component with QR Code -->
<div class="hero h-full animated-gradient rounded-xl shadow-2xl">
    <div class="hero-content text-center w-full">
        <div class="max-w-4xl w-full">
            <h1 class="text-5xl font-bold text-white mb-3 drop-shadow-lg animate-pulse text-center">
                Bienvenue à la fête de Valérie
            </h1>
            <h2 class="text-4xl font-bold text-yellow-300 mb-6 drop-shadow-lg text-center">
                50e anniversaire!
            </h2>
            <p class="text-xl text-white mb-8 drop-shadow text-center">
                Partagez vos photos, vœux et musique
            </p>

            <!-- QR Code Card Centered -->
            <div class="max-w-md mx-auto">
                <div class="card bg-white/95 backdrop-blur p-8 shadow-2xl">
                    <div class="card-body items-center text-center p-0 flex flex-col justify-center h-full">
                        <div id="qr-code-welcome" class="mb-4"></div>
                        <h3 class="text-lg font-bold text-gray-800">Partagez un moment</h3>
                        <p class="text-xs text-gray-500 mt-1" id="mobile-url-welcome"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Animated background for welcome screen */
@keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.animated-gradient {
    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
}
</style>

<script>
// Generate QR code for this welcome screen instance
function generateWelcomeQR() {
    fetch('/api/network_info')
        .then(response => response.json())
        .then(data => {
            const qr = qrcode(4, 'L');
            const url = data.mobile_url;
            qr.addData(url);
            qr.make();

            // Generate QR code for welcome screen
            const qrElement = document.getElementById('qr-code-welcome');
            if (qrElement) {
                qrElement.innerHTML = qr.createImgTag(6);
            }

            // Display URL
            const urlElement = document.getElementById('mobile-url-welcome');
            if (urlElement) {
                urlElement.textContent = url;
            }
        })
        .catch(error => {
            console.error('Error fetching network info:', error);
        });
}

// Generate QR code when this component loads
if (typeof qrcode !== 'undefined') {
    generateWelcomeQR();
} else {
    // Wait for QR code library to load
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(generateWelcomeQR, 100);
    });
}
</script>