<!-- Welcome Screen Component with QR Code -->
<div class="hero h-full animated-gradient rounded-xl shadow-2xl">
    <div class="hero-content text-center w-full">
        <div class="max-w-4xl w-full">
            <h1 class="text-5xl font-bold text-white mb-3 drop-shadow-lg animate-pulse text-center">
                Bienvenue à la fête de Valérie
            </h1>
            <h2 class="text-4xl font-bold text-yellow-300 mb-6 drop-shadow-lg text-center">
                50e anniversaire!
            </h2>
            <p class="text-xl text-white mb-8 drop-shadow text-center">
                Partagez vos photos, vœux et musique
            </p>

            <!-- Two Beautiful Cards Side by Side -->
            <div class="grid grid-cols-2 gap-6 max-w-2xl mx-auto">
                <!-- WiFi Card -->
                <div class="card bg-white/95 backdrop-blur p-8 shadow-2xl">
                    <div class="card-body items-center text-center p-0 flex flex-col justify-center h-full">
                        <p class="text-lg text-gray-700 mb-2">Connectez-vous au réseau</p>
                        <!-- DOUBLE SIZE WiFi Icon in black -->
                        <svg class="w-32 h-32 text-black mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"></path>
                        </svg>
                        <h3 class="text-2xl font-bold text-gray-800">ValerieParty</h3>
                    </div>
                </div>

                <!-- QR Code Card -->
                <div class="card bg-white/95 backdrop-blur p-8 shadow-2xl">
                    <div class="card-body items-center text-center p-0 flex flex-col justify-center h-full">
                        <div id="qr-code-welcome" class="mb-4"></div>
                        <h3 class="text-lg font-bold text-gray-800">Partagez un moment</h3>
                        <p class="text-xs text-gray-500 mt-1" id="mobile-url-welcome"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Animated background for welcome screen */
@keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.animated-gradient {
    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
}
</style>

<script>
// Generate QR code for this welcome screen instance
function generateWelcomeQR() {
    fetch('/api/network_info')
        .then(response => response.json())
        .then(data => {
            const qr = qrcode(4, 'L');
            const url = data.mobile_url;
            qr.addData(url);
            qr.make();

            // Generate QR code for welcome screen
            const qrElement = document.getElementById('qr-code-welcome');
            if (qrElement) {
                qrElement.innerHTML = qr.createImgTag(6);
            }

            // Display URL
            const urlElement = document.getElementById('mobile-url-welcome');
            if (urlElement) {
                urlElement.textContent = url;
            }
        })
        .catch(error => {
            console.error('Error fetching network info:', error);
        });
}

// Generate QR code when this component loads
if (typeof qrcode !== 'undefined') {
    generateWelcomeQR();
} else {
    // Wait for QR code library to load
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(generateWelcomeQR, 100);
    });
}
</script>